{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 7d24c418e0fa4c6f788d","webpack:///./src/index.js"],"names":["Swapper","config","_name","isEnabled","undefined","dragSrcEl","boxes","_findElementsInThePage","forEach","call","box","setAttribute","addEventListener","handleDragStart","e","handleDragEnter","handleDragOver","handleDragLeave","handleDrop","handleDragEnd","target","classList","add","dataTransfer","effectAllowed","setData","innerHTML","preventDefault","dropEffect","_hasSameContainers","remove","stopPropagation","_areDifferentElements","getData","oldClasses","toString","split","o","oldId","id","onChange","col","selector","containers","c","element","slice","document","querySelectorAll","removeAttribute","container","every","closest","el1","el2","c1","_findContainer","c2"],"mappings":"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","file":"Swapper.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Swapper\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Swapper\"] = factory();\n\telse\n\t\troot[\"Swapper\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7d24c418e0fa4c6f788d","export default class Swapper {\n\n    constructor(config) {\n        this._name = 'Swapper';\n\n        this.config = config || {};\n\n        this.isEnabled = config.isEnabled !== undefined ? config.isEnabled : true;\n        this.dragSrcEl = null;\n\n        this.boxes = [];\n\n        this._findElementsInThePage();\n\n        [].forEach.call(this.boxes, (box) => {\n            if (this.isEnabled) {\n                box.setAttribute('draggable', this.isEnabled);\n            }\n            box.addEventListener('dragstart', e => this.handleDragStart(e), false);\n            box.addEventListener('dragenter', e => this.handleDragEnter(e), false);\n            box.addEventListener('dragover', e => this.handleDragOver(e), false);\n            box.addEventListener('dragleave', e => this.handleDragLeave(e), false);\n            box.addEventListener('drop', e => this.handleDrop(e), false);\n            box.addEventListener('dragend', e => this.handleDragEnd(e), false);\n        });\n    }\n\n    get name() {\n        return this._name;\n    }\n\n    handleDragStart(e) {\n        e.target.classList.add('swapper-moving');\n        this.dragSrcEl = e.target;\n\n        e.dataTransfer.effectAllowed = 'move';\n        e.dataTransfer.setData('text/html', e.target.innerHTML);\n    }\n\n    handleDragOver(e) {\n        if (e.preventDefault) {\n            e.preventDefault();\n        }\n\n        e.dataTransfer.dropEffect = 'move';\n\n        return false;\n    }\n\n    handleDragEnter(e) {\n        if (!this.dragSrcEl || !e.target || this.dragSrcEl === e.target) {\n            return;\n        }\n\n        if (this.dragSrcEl && e.target) {\n            if (!this._hasSameContainers(this.dragSrcEl, e.target)) {\n                e.target.classList.remove('swapper--over');\n                return;\n            }\n        }\n\n        // current hover target\n        e.target.classList.add('swapper--over');\n    }\n\n    handleDragLeave(e) {\n        // previous target element\n        e.target.classList.remove('swapper--over');\n    }\n\n    handleDrop(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation(); // stops the browser from redirecting.\n        }\n\n        // Don't do anything if dropping the same elements we're dragging.\n        if (this._areDifferentElements(this.dragSrcEl, e.target) && this._hasSameContainers(this.dragSrcEl, e.target)) {\n            // Set the source column's HTML to the HTML of the column we dropped on.\n            this.dragSrcEl.innerHTML = e.target.innerHTML;\n            e.target.innerHTML = e.dataTransfer.getData('text/html');\n\n            // Swap classes\n            let oldClasses = e.target.classList.toString().split(' ');\n\n            e.target.classList = this.dragSrcEl.classList;\n\n            this.dragSrcEl.classList = '';\n            oldClasses.forEach((o) => {\n                this.dragSrcEl.classList.add(o);\n            });\n\n            // Swap IDs\n            let oldId = e.target.id;\n\n            e.target.id = this.dragSrcEl.id;\n            this.dragSrcEl.id = oldId;\n\n            // Callback when it's done\n            if (this.config.onChange) {\n                this.config.onChange(this.boxes);\n            }\n        }\n\n        return false;\n    }\n\n    handleDragEnd(e) {\n        [].forEach.call(this.boxes, function (col) {\n            col.classList.remove('swapper--over');\n            col.classList.remove('swapper--moving');\n        });\n    }\n\n    _findElementsInThePage() {\n        let selector = '';\n\n        this.config.containers.forEach((c) => {\n            selector += c + ' ' + this.config.element + ',';\n        });\n        selector = selector.slice(0, -1);\n\n        this.boxes = document.querySelectorAll(selector);\n    }\n\n    enable() {\n        this.isEnabled = true;\n        [].forEach.call(this.boxes, (box) => {\n            box.setAttribute('draggable', true);\n        });\n    }\n\n    disable() {\n        this.isEnabled = false;\n        [].forEach.call(this.boxes, (box) => {\n            box.removeAttribute('draggable');\n        });\n    }\n\n    _findContainer(element) {\n        let container = null;\n\n        this.config.containers.every((c) => {\n            container = element.closest(c);\n            return !container; // when false exit from loop\n        });\n\n        return container;\n    }\n\n    _areDifferentElements(el1, el2) {\n        return el1 && el2 && el1 !== el2;\n    }\n\n    _hasSameContainers(el1, el2) {\n        let c1 = this._findContainer(el1);\n\n        let c2 = this._findContainer(el2);\n\n        return (c1 && c2 && c1.innerHTML === c2.innerHTML);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}